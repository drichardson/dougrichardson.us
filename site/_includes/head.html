<head>
  <meta charset=utf-8>
  <meta http-equiv=X-UA-Compatible content="IE=edge">
  <meta name=viewport content="width=device-width, initial-scale=1">

  <title>{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}</title>
  <meta name=description content="{% if page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description }}{% endif %}">

  <link rel=stylesheet href="{{ "/css/main.css" | prepend: site.baseurl }}">
  <link rel=canonical href="{{ page.url | replace:'index.html','' | prepend: site.baseurl | prepend: site.url }}">
  <link rel=alternate type=application/rss+xml title="{{ site.title }}" href="{{ "/feed.rss" | prepend: site.baseurl | prepend: site.url }}">
  <link rel=icon href="/assets/doug.jpg">

  <script>
    window.MathJax = {
      options: {
        ignoreHtmlClass: 'tex2jax_ignore',
        processHtmlClass: 'tex2jax_process',
				renderActions: {
					find: [10, function (doc) {
						for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
							const display = !!node.type.match(/; *mode=display/);
							const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
							const text = document.createTextNode('');
							node.parentNode.replaceChild(text, node);
							math.start = {node: text, delim: '', n: 0};
							math.end = {node: text, delim: '', n: 0};
							doc.math.push(math);
						}
					}, '']
				}
      },
      tex: {
        autoload: {
          color: [],
          colorV2: ['color']
        },
        packages: {'[+]': ['noerrors']}
      },
      loader: {
        load: ['[tex]/noerrors']
      },
    };
  </script>

  <script id="MathJax-script" async src="/assets/mathjax/tex-mml-chtml.js"></script>
</head>
